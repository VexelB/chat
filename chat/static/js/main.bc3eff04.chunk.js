(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{20:function(e,t,a){e.exports=a(21)},21:function(e,t,a){"use strict";a.r(t);var n=a(15),l=a(4),u=a(6),i=a(7),c=a(10),s=a(8),r=a(11),o=a(0),m=a.n(o),h=a(9),d=a.n(h),v=(a(26),a(16)),b=a(2),g=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430.")}}]),t}(m.a.Component),p=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={value:"",users:[],msg:[]},a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){""!==this.state.value&&(O.send(JSON.stringify({nick:E,text:this.state.value})),this.setState({value:""})),e.preventDefault()}},{key:"render",value:function(){return m.a.createElement("div",{id:"all"},m.a.createElement("div",{id:"messagescon"},m.a.createElement("div",{id:"messages"},m.a.createElement("div",{id:"msg"},this.state.msg.map((function(e,t){return m.a.createElement("p",{key:t},e)})))),m.a.createElement("div",{id:"sender"},m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,autoFocus:!0}),m.a.createElement("input",{type:"submit",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})))),m.a.createElement("div",{id:"users"}," \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438:",m.a.createElement("ul",null,this.state.users.map((function(e,t){return m.a.createElement("li",{key:t},e)}))),m.a.createElement("br",null)))}},{key:"componentDidMount",value:function(){var e=this;O.onmessage=function(t){console.log(t.data);var a=JSON.parse(t.data);if(a.login){var l=[].concat(Object(n.a)(e.state.users),[a.login]);e.setState({users:l})}if(a.del){var u=e.state.users;u.splice(u.indexOf(a.del,0),1),e.setState({users:u})}if(a.text){var i=new Date,c=[i.getHours()+":"+i.getMinutes().toString().padStart(2,"0")+" "+a.nick+": "+a.text].concat(Object(n.a)(e.state.msg));e.setState({msg:c})}}}}]),t}(m.a.Component),f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={value:""},a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),"#/"===document.location.hash&&window.history.pushState(null,null,document.location+Math.random().toString(36).substring(2,7)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){""!==this.state.value&&(E=this.state.value,this.setState({value:""}),O.send(JSON.stringify({login:E,room:document.location.hash}))),d.a.render(m.a.createElement(v.a,null,m.a.createElement(b.c,null,m.a.createElement(b.a,{path:"/",component:p}))),document.getElementById("root")),e.preventDefault()}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,autoFocus:!0}),m.a.createElement("input",{type:"submit",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})))}}]),t}(m.a.Component),E="",O=new WebSocket("ws://94.103.88.200:8080");O.onclose=function(e){console.log(e.code),"1006"==e.code&&d.a.render(m.a.createElement(g,null),document.getElementById("root"))},d.a.render(m.a.createElement(v.a,null,m.a.createElement(b.c,null,m.a.createElement(b.a,{path:"/",component:f}),m.a.createElement(b.a,{path:"",component:f}))),document.getElementById("root"))},26:function(e,t,a){}},[[20,1,2]]]);
//# sourceMappingURL=main.bc3eff04.chunk.js.map